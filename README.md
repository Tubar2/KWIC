###### Universidade de Bras√≠lia

Ricardo de Castro Giometti Santos - 180027263
Gianlucas Dos Santos Lopes - 180041991

# KWIC
This project is based in the article ["On the criteria to be used in decomposing systems into modules"](https://www.win.tue.nl/~wstomv/edu/2ip30/references/criteria_for_modularization.pdf) David Lorge Parnas (1972).

In this code we implement the Key Word In Context ideia exploring advanced modularization techniques in c++, aiming at creating well modularized and easily extensible code.

### Requirements
This code has been tested with the following specifications:
  - g++ or clang C++17 compiler
  - [GNU Make](https://www.gnu.org/software/make/)
  - [Google Test library](https://github.com/google/googletest)
  - [LibCurl Library](https://curl.haxx.se/libcurl/)
  - [Nlohmann JSON for Modern C++](https://github.com/nlohmann/json) (already included in project files)

### Files
The project is divided in two folders. ***src*** contains the implementation of the KWIC. The .cpp and .hpp files at this level are the core components of the program.

The folder ***Input*** has 3 different input modules : DBLP_Input (titles only), JSONText_Input (stop words only) and Text_Input (both).

Folder ***Output*** also has 3 different output modules : JSONText_Input, Terminal_Output and Text_Output.

***Resouces*** folder contains premade .txt and .json files that can be used in the program.

***Exit*** stores all files generated by the program.

***single_include*** is a folder provided by [Nlohmann](https://github.com/nlohmann/json) that adds the .json structure manipulating libraries to the program (which means it isn't necessary to install this library in the operational system to make the program work).

Folder ***tests*** contains unit tests using [Google Test framework](https://github.com/google/googletest) (needs separate installation), which test functionalities from src modules.



### Compile and Execute
A makefile is provided to compile the necesserary files into the KWIC and Test executables. To use it, go into the parent folder where the makefile is located and write in the terminal (in unix systems):
```sh
$ make
```

To run the KWIC main program:
```sh
$ cd src
$ ./KWIC
```

To run tests do:
```sh
$ cd tests
$ ./Test
```
***note***: It is necessary to be in the same folder as the executables before executing them, or else they won't be able to find the Resources folder correctly.

### Usage

To use any of the different Input and Output modules, it is only necessary to change parameters in ***src/main.cpp***. Those changes will tell which of the different modules the program should use. The rest is done automatically.

To change the titles input, just change the class of input in line 31 to any of these:
```sh
DBLP_Input input(data, typeInput);
Text_Input input(data, typeInput);
```
To change the stop words input, change the class of words in line 32 to any of these:
```sh
JSON_Input words(data, typeStops);
Text_Input words(data, typeStops);
```
To change the output, change the class of to in line 35 for any of these:

```sh
Terminal_Output to(data.shiftedVariations);
JSON_Output to(data.shiftedVariations);
Text_Output to(data.shiftedVariations);
```